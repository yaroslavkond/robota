!function(){var t={urlStartWidget:"staging.stats.lptracker.ru,stats.lptracker.ru,stats.lptracker.io,crm-track.space,lpt-crm.online".split(","),baseUrlApiWidget:"",baseUrlMainWidget:"",gitVersion:"2.24.20201228-419-gad0c457271-dirty"},e=[],n=[].slice,i=["ready"];Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var l=Object.keys(Object(r)),s=0,o=l.length;s<o;s++){var a=l[s],c=Object.getOwnPropertyDescriptor(r,a);void 0!==c&&c.enumerable&&(n[a]=r[a])}}return n}}),window.lptWg=window.lptWg||{},Object.assign(window.lptWg,{on:function(t,e){var n,r,l,s,o,a,c,g,h;for(r=t.split(" "),this.hasOwnProperty("_callbacks")||this._callbacks||(this._callbacks={}),l=0,s=r.length;l<s;l++)if(o=r[l],(n=this._callbacks)[o]||(n[o]=[]),this._callbacks[o].push(e),-1!==i.indexOf(o))for(a=0,c=(h=null!=(g=this._replays)?g[o]:[]).length;a<c;a++)e.apply(this,h[a]);return this},one:function(t,e){var n;return this.on(t,n=function(){return this.off(t,n),e.apply(this,arguments)})},trigger:function(){var t,e,r,l,s,o,a;if(e=(t=1<=arguments.length?n.call(arguments,0):[]).shift(),s=null!=(o=this._callbacks)?o[e]:void 0){for(-1!==i.indexOf(e)&&(this.hasOwnProperty("_replays")||this._replays||(this._replays={}),(a=this._replays)[e]||(a[e]=[]),this._replays[e].push(t)),r=0,l=s.length;r<l&&!1!==s[r].apply(this,t);r++);return!0}},listenTo:function(t,e,n){return t.on(e,n),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:t,ev:e,callback:n}),this},listenToOnce:function(t,e,n){var i,r;return r=this.listeningToOnce||(this.listeningToOnce=[]),t.on(e,i=function(){var l,s,o,a,c;for(s=-1,l=o=0,a=r.length;o<a;l=++o)(c=r[l]).obj===t&&c.ev===e&&c.callback===i&&(s=l);return t.off(e,i),-1!==s&&r.splice(s,1),n.apply(this,arguments)}),r.push({obj:t,ev:e,callback:i}),this},stopListening:function(t,e,n){var i,r,l,s,o,a,c,g,h,f,p,u,d,b,v,w,k,m;if(0===arguments.length){for(o=0,g=(w=[this.listeningTo,this.listeningToOnce]).length;o<g;o++)if(null!=(u=w[o])?u.length:void 0)for(a=0,h=u.length;a<h;a++)(d=u[a]).obj.off(d.ev,d.callback);this.listeningTo=void 0,this.listeningToOnce=void 0}else if(t)for(e=e?e.split(" "):[void 0],c=0,f=(k=[this.listeningTo,this.listeningToOnce]).length;c<f;c++)if(u=k[c])for(b=0,p=e.length;b<p;b++)for(r=e[b],s=v=m=u.length-1;m<=0?v<=0:v>=0;s=m<=0?++v:--v)(d=u[s]).obj===t&&(n&&d.callback!==n||(r&&r!==d.ev?r&&(l=d.ev.split(" "),indexOf.call(l,r)>=0&&(l=function(){var t,e,n;for(n=[],e=0,t=l.length;e<t;e++)(i=l[e])!==r&&n.push(i);return n}(),d.ev=l.join(" ").trim(),d.obj.off(r,d.callback))):(d.obj.off(d.ev,d.callback),-1!==s&&u.splice(s,1))));return this},off:function(t,e){var n,i,r,l,s,o,a,c,g;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(r=0,s=(n=t.split(" ")).length;r<s;r++)if(c=n[r],a=null!=(g=this._callbacks)?g[c]:void 0)if(e){for(i=l=0,o=a.length;l<o;i=++l)if(a[i]===e){(a=a.slice()).splice(i,1),this._callbacks[c]=a;break}}else delete this._callbacks[c];return this}}),window.lptWg.on("ready",(function(){console.log("Виджет для проекта "+window.lptWg.siteId+" запущен",arguments)})),window.addEventListener("error",(function(t){var n={errorMsg:"message: "+t.message+";\n filename: "+t.filename+";\n lineno: "+t.lineno+";\n colno: "+t.colno+";\n "+(t.error?"stack:\n "+t.error.stack:""),url:t.filename};e.push(n),console.log(n)}));var r=document.getElementById("lpt-widget");r||(r=function(e){var n,i=document.getElementsByTagName("script");for(var r in i)if(i.hasOwnProperty(r))for(var l=0;l<e.length;l++)if(i[r].src.indexOf(e[l])>=0){n=i[r],t.baseUrlMainWidget="https://"+e[l]+"/lpt_widget/out/main.min.js?"+t.gitVersion,t.baseUrlApiWidget="https://"+e[l];break}return n}(t.urlStartWidget)),window.lptWg.projectId=window.lptWg.projectId||function(t){var e=parseInt(t.src.split("/").pop());return window.lptWg.chatClientToken=t.getAttribute("data-chat-token"),window.lptWg.telegramToken=t.getAttribute("data-telegram-token"),isNaN(e)&&(e=t.getAttribute("data-id")),e}(r),function(n){var i=document.createElement("script");i.onload=function(){"function"==typeof window.lptWg.start&&window.lptWg.start(n,t.baseUrlApiWidget,t.gitVersion,e)},i.src=t.baseUrlMainWidget,i.charset="utf-8",document.head.appendChild(i)}(window.lptWg.projectId)}();