let $html=document.querySelector("html"),$body=document.querySelector("body"),$wrap=document.querySelector(".wrap"),mailPattern=/^[0-9a-z_-]+@[0-9a-z_-]+.[a-z]{2,5}$/i;document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelector(".ntoggle"),t=document.querySelector(".header");e.addEventListener("click",(()=>{e.classList.toggle("--toggle"),t.classList.toggle("--toggle"),$html.classList.toggle("overflow-disable"),$body.classList.toggle("overflow-disable"),$wrap.classList.toggle("overflow-disable")}));let s=document.querySelectorAll(".input");s&&s.forEach((e=>{let t=e.querySelector(".input__area");""!=t.value&&e.classList.add("--filled"),t.addEventListener("input",(()=>{""!=t.value&&e.classList.add("--filled")})),t.addEventListener("focusin",(()=>{e.classList.add("--focus"),e.classList.remove("--error")})),t.addEventListener("focusout",(()=>{e.classList.remove("--focus")})),e.classList.contains("--phone")&&($(t).mask("+7 (000) 000-00-00"),t.setAttribute("minlength",18),t.setAttribute("required","required"))}));let r=document.querySelectorAll(".file");function l(e,t,s,r){if($slider=document.querySelector(t),$slider){let t,i=document.querySelector(s),c=document.querySelectorAll(r);function l(){$wrap.offsetWidth<=768?t||($slider.classList.add("swiper-container"),i.classList.add("swiper-wrapper","nowrap"),c.forEach((e=>{e.classList.add("swiper-slide")})),t=new Swiper($slider,e)):$slider&&($slider.classList.remove("swiper-container"),i.classList.remove("swiper-wrapper","nowrap"),i.removeAttribute("style"),c.forEach((e=>{e.removeAttribute("style"),e.classList.remove("swiper-slide")})),t=null)}l(),window.addEventListener("resize",(()=>{l()}))}}r&&r.forEach((e=>{let t=e.querySelector(".file__input"),s=e.querySelector(".file__message");t.addEventListener("change",(e=>{let t=e.target.files[0];s.innerText=t.name}))})),new l({slidesPerView:1,autoHeight:!0},".price__slider",".price__list",".price__item"),new l({slidesPerView:"auto",autoHeight:!0},".allinc__slider",".allinc__list",".allinc__item"),new l({slidesPerView:1,autoHeight:!0,spaceBetween:15},".objects__slider",".objects__list",".objects__item"),new l({slidesPerView:1,spaceBetween:15},".examples__slider",".examples__list",".examples__item"),new l({slidesPerView:"auto",spaceBetween:15},".youtube__slider",".youtube__list",".youtube__item"),new l({slidesPerView:"auto",spaceBetween:15},".youtube__slider",".youtube__list",".youtube__item"),new l({slidesPerView:"auto",spaceBetween:15},".team__slider",".team__list",".team__item"),new l({slidesPerView:1,spaceBetween:15},".more__slider",".more__list",".more__item");let i=document.querySelector(".calc");if(i){new function(){let e={class:{current:"--current",active:"--active",disabled:"--disabled",hidden:"--hidden",statusDiv:"status__item"},$title:i.querySelector(".calc__title"),$subtitle:i.querySelector(".calc__subtitle"),$desc:i.querySelector(".calc__desc"),$items:i.querySelectorAll(".calc__item"),$status:i.querySelector(".calc__status"),$btns:i.querySelector(".calc__controls"),$btnPrev:i.querySelector(".calc__control.--prev"),$btnNext:i.querySelector(".calc__control.--next"),current:{}};e.$items.forEach(((t,s)=>{let r=document.createElement("div");r.className=e.class.statusDiv,0==s&&(r.classList.add(e.class.current,e.class.active),t.classList.add(e.class.current),e.current.$element=t,e.current.$status=r),e.$status.append(r)})),e.$btnPrev.addEventListener("click",(()=>{let t=e.current.$element.previousElementSibling,s=e.current.$status.previousElementSibling;t&&s&&(e.current.$element.classList.remove(e.class.current),e.current.$status.classList.remove(e.class.current,e.class.active),t.classList.add(e.class.current),s.classList.add(e.class.current,e.class.active),e.current.$element=t,e.current.$status=s,e.current.$element.previousElementSibling||e.$btnPrev.classList.add(e.class.disabled))})),e.$btnNext.addEventListener("click",(()=>{let t=e.current.$element.nextElementSibling,s=e.current.$status.nextElementSibling;t&&s&&(e.current.$element.classList.remove(e.class.current),e.current.$status.classList.remove(e.class.current),t.classList.add(e.class.current),s.classList.add(e.class.current,e.class.active),e.current.$element=t,e.current.$status=s,e.$btnPrev.classList.remove(e.class.disabled),e.current.$element.classList.contains("--finally")&&(e.$title.innerHTML="<strong>СИСТЕМА РАССЧИТАЛА <br>СТОИМОСТЬ ОШТУКАТУРИВАНИЯ <br>В 3-х вариантах по вашим <br>параметрам</strong>",e.$subtitle.classList.add(e.class.hidden),e.$desc.classList.add(e.class.hidden),e.$status.classList.add(e.class.hidden),e.$btns.classList.add(e.class.hidden)))}))}}let c=document.querySelectorAll(".objects__item");c&&c.forEach((e=>{let t,s,r=e.querySelector(".imgs__list-wrap"),l=e.querySelector(".imgs__thumbs-wrap");s=new Swiper(l,{slidesPerView:4,clickable:!0,spaceBetween:20}),t=new Swiper(r,{navigation:{nextEl:e.querySelector(".imgs__arrow.--next"),prevEl:e.querySelector(".imgs__arrow.--prev")},thumbs:{swiper:s}})}));let a=document.querySelector(".estimate__imgs-wrap");if(a){let e=document.querySelector(".estimate__imgs-arrow.--prev"),t=document.querySelector(".estimate__imgs-arrow.--next");new Swiper(a,{loop:!0,navigation:{prevEl:e,nextEl:t}})}let n=document.querySelectorAll(".reviews__list");n&&n.forEach((e=>{let t=e.querySelector(".reviews__arrow.--prev"),s=e.querySelector(".reviews__arrow.--next"),r=e.querySelector(".reviews__list-case");new Swiper(r,{loop:!0,slidesPerView:2,navigation:{prevEl:t,nextEl:s},breakpoints:{0:{loop:!1,slidesPerView:1,adaptiveHeight:!0},768:{loop:!0},992:{slidesPerView:2,adaptiveHeight:!1}}})}));let o=document.querySelector(".office");if(o){let e=o.querySelector(".office__arrow.--prev"),t=o.querySelector(".office__arrow.--next"),s=o.querySelector(".office__slider");new Swiper(s,{loop:!0,spaceBetween:172,navigation:{prevEl:e,nextEl:t},breakpoints:{320:{spaceBetween:15},768:{spaceBetween:172}}})}let u=document.querySelector("#map");if(u&&ymaps){ymaps.ready((function(){let e=parseFloat(u.getAttribute("data-lng")),t=parseFloat(u.getAttribute("data-lat")),s=new ymaps.Map(u,{center:[e,t],zoom:15,controls:[]}),r=new ymaps.Placemark([e,t],{},{iconLayout:"default#image"});s.geoObjects.add(r),s.behaviors.disable("scrollZoom")}))}let d=document.querySelector(".work");if(d){let e,t,s=d.querySelector(".w-sli__list-wrap"),r=d.querySelector(".w-sli__thumbs-wrap"),l=d.querySelector(".w-sli__arrow.--prev"),i=d.querySelector(".w-sli__arrow.--next");e=new Swiper(r,{slidesPerView:4,clickable:!0,spaceBetween:30}),t=new Swiper(s,{navigation:{prevEl:l,nextEl:i},thumbs:{swiper:e}})}let _=document.querySelector(".t-month"),w=(new Date).getMonth();if(_){_.textContent=function(){switch(w){case 0:return"январе";case 1:return"феврале";case 2:return"марте";case 3:return"апреле";case 4:return"мае";case 5:return"июне";case 6:return"июле";case 7:return"августе";case 8:return"сентябре";case 9:return"октябре";case 10:return"ноябре";case 11:return"декабре"}}()}let m=document.querySelectorAll(".wpcf7-form");m&&m.forEach((e=>{let t=e.querySelector("button"),s=e.querySelectorAll(".input.--required");s?t.addEventListener("click",(e=>{let t=0;s.forEach((s=>{""==s.querySelector("input").value?(s.classList.add("--error"),t++):s.classList.remove("--error"),s.classList.contains("--phone")&&s.querySelector("input").value.length<18&&(s.classList.add("--error"),t++),0!=t&&e.preventDefault()}))})):console.log(e)})),document.addEventListener("wpcf7mailsent",(function(e){document.location.href="/thanks/"}),!1);let p=document.querySelectorAll('input[name = "square"]');if(p&&p.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[\D]/g,"")}))})),$(".seo-text__wysiwig--article").length>0)var v=!0;else v=!1;v?$(".seo-text__wysiwig > div > *").slice(2).hide():$(".seo-text__wysiwig > *:not(:first-child)").hide(),$(".seo-text__more-link a").click((function(e){e.preventDefault(),$(this).hasClass("opened")?($(this).removeClass("opened"),$(this).text("Читать полностью"),v?$(".seo-text__wysiwig > div > *").slice(2).hide():$(".seo-text__wysiwig > *:not(:first-child)").hide()):($(this).addClass("opened"),$(this).text("Скрыть текст"),v?$(".seo-text__wysiwig > div > *").show():$(".seo-text__wysiwig > *:not(:first-child)").show())}))}));